<!DOCTYPE>
<html>
    <head>
        <meta charset="utf-8">
        <title>Richarea - Cross browser richarea munipulator library written in CoffeeScript</title>
        <link type="text/css" rel="stylesheet" href="css/style.css">
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
        <!--[if IE]>
            <script type="text/javascript" src="https://getfirebug.com/firebug-lite.js"></script>
            <script type="text/javascript" src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
            <script type="text/javascript" src="js/richarea/ierange.js"></script>
        <![endif]-->
        <script type="text/javascript" src="js/richarea/richarea.js"></script>
        <script type="text/javascript">
            // The script use jQuery but Richarea.js is not jQuery dependent
            $(document).ready(function(){
                var richarea = new Richarea($('#richarea'));
                // define update event callback
                forwardUpdate = function(){
                    var $$ = $(richarea.raw.body);
                    $('#preview').val($$.html());
                };
                reverseUpdate = function(){
                    var $$ = $('#preview');
                    richarea.setValue($$.val());
                };
                // bind events
                richarea.ready(function(){
                    $(richarea.raw.body).bind('keypress change click blur enter', forwardUpdate);
                    $('#preview').bind('keypress change click blur enter', reverseUpdate);
                    $('#toolbar li a').click(function(){
                        var $$ = $(this);
                        eval("richarea." + $$.attr('do') + ";");
                        forwardUpdate();
                    });
                    // initial update
                    forwardUpdate();
                });
            });
            function info(){
                var iframe = $('#richarea').get(0);
                var selection = iframe.contentWindow.getSelection();
                var range = selection.getRangeAt(0);
                console.info({startContainer: range.startContainer, startOffset: range.startOffset, endContainer: range.endContainer, endOffset: range.endOffset});
            }
        </script>
    </head>
    <body>
        <div id="wrapper">
            <header>
                <h1>Richarea Demo</h1>
                <p>Cross browser richarea munipulator library written in CoffeeScript</p>
                <p>See <a href="http://demos.textarea.hashnote.net/">Textarea</a> if you want to munipulate textarea not iframe
                and see <a href="http://demos.jencil.hashnote.net/">Jencil</a> if you want to use JavaScript Editor which can handle Markup and WYSIWYG.</p>
            </header>
            <nav id="relatedlinks">
                <ul>
                    <li id="github"><a href="http://github.com/lambdalisue/Richarea" title="Github" target="_blank">Github</a></li>
                    <li id="tumblr"><a href="http://hashnote.net" title="Tumblr" target="_blank">Tumblr</a></li>
                    <li id="twitter"><a href="http://twitter.com/lambdalisue" title="Twitter" target="_blank">Twitter</a></li>
                </ul>
            </nav>
            <section id="content">
                <h2>Demo</h2>
                <ul id="toolbar">
                    <li><a href="javascript:void(0)" do="heading(1)">H1</a></li>
                    <li><a href="javascript:void(0)" do="heading(2)">H2</a></li>
                    <li><a href="javascript:void(0)" do="heading(3)">H3</a></li>
                    <li><span class="separator">|</span></li>
                    <li><a href="javascript:void(0)" do="bold()">Bold</a></li>
                    <li><a href="javascript:void(0)" do="italic()">Italic</a></li>
                    <li><a href="javascript:void(0)" do="underline()">Under</a></li>
                    <li><a href="javascript:void(0)" do="strikethrough()">Strike</a></li>
                    <li><a href="javascript:void(0)" do="subscript()">Subscript</a></li>
                    <li><a href="javascript:void(0)" do="superscript()">Superscript</a></li>
                    <li><span class="separator">|</span></li>
                    <li><a href="javascript:void(0)" do="foreColor('#ff0000')">ForeColor Red</a></li>
                    <li><a href="javascript:void(0)" do="backColor('#0000ff')">BackColor Blue</a></li>
                    <li><span class="separator">|</span></li>
                    <li><a href="javascript:void(0)" do="fontName('Times New Roman')">Times New Roman</a></li>
                    <li><a href="javascript:void(0)" do="fontSize('100px')">100px Font</a></li>
                    <li><span class="separator">|</span></li>
                    <li><a href="javascript:void(0)" do="indent()">Indent</a></li>
                    <li><a href="javascript:void(0)" do="outdent()">Outdent</a></li>
                    <li><span class="separator">|</span></li>
                    <li><a href="javascript:void(0)" do="insertLink('http://www.google.com/')">Add Link</a></li>
                    <li><a href="javascript:void(0)" do="insertImage('http://p.tl/GNoA')">Add Image</a></li>
                    <li><a href="javascript:void(0)" do="insertOrderedList()">Add Ordered List</a></li>
                    <li><a href="javascript:void(0)" do="insertUnorderedList()">Add Unordered List</a></li>
                    <li><a href="javascript:void(0)" do="insertHorizontalRule()">Add HR</a></li>
                    <li><span class="separator">|</span></li>
                    <li><a href="javascript:void(0)" do="copy()">Copy</a></li>
                    <li><a href="javascript:void(0)" do="cut()">Cut</a></li>
                    <li><a href="javascript:void(0)" do="paste()">Paste</a></li>
                    <li><a href="javascript:void(0)" do="delete()">Delete</a></li>
                    <li><span class="separator">|</span></li>
                    <li><a href="javascript:void(0)" do="undo()">Undo</a></li>
                    <li><a href="javascript:void(0)" do="redo()">Redo</a></li>
                    <li><span class="separator">|</span></li>
                    <li><a href="javascript:void(0)" do="justifyCenter()">Center</a></li>
                    <li><a href="javascript:void(0)" do="justifyFull()">Full</a></li>
                    <li><a href="javascript:void(0)" do="justifyLeft()">Left</a></li>
                    <li><a href="javascript:void(0)" do="justifyRight()">Right</a></li>
                    <li><span class="separator">|</span></li>
                    <li><a href="javascript:void(0)" onclick="info();">Info</a></li>
                </ul>
                <div id="workspace">
                    <iframe frameborder='0' src="template.html"id="richarea" class="richarea">
<b>AAAAA</b><i>BBBBB</i><u>CCCCC</u>
                    </iframe>
                    <textarea id="preview">
                    </textarea>
                </div>
                <div class="clearfix"></div>
                <h2>Download</h2>
                <p>This library is created by Alisue. You can use this library under the <a href="http://www.opensource.org/licenses/mit-license.php">MIT License</a></p>
                <p><strong>Latest version: <a href="https://github.com/lambdalisue/Richarea/zipball/master">Download</a></strong></p>
                <h3>Version history</h3>
                <ul>
                    <li>Version 0.1.1: <a href="https://github.com/lambdalisue/Richarea/zipball/v0.1.1">Download</a></strong></li>
                    <li>Version 0.1.0: <a href="https://github.com/lambdalisue/Richarea/zipball/v0.1.0">Download</a></strong></li>
                </ul>
            </section>
        </div>
    </body>
</html>
